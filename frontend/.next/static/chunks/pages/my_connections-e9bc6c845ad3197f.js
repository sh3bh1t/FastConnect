(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[889],{643:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my_connections",function(){return s(9274)}])},5716:function(e,n,s){"use strict";s.d(n,{Z:function(){return u}});var i=s(5893),t=s(7294),o=s(6605),r=s.n(o),c=s(1163),l=s(1987),a=s(5007),d=s(9846);function u(e){let{children:n}=e,s=(0,a.v9)(e=>e.auth),o=(0,c.useRouter)(),u=(0,a.I0)();return(0,t.useEffect)(()=>{let e=localStorage.getItem("token");console.log("Checking token in Dashboard:",e),e||o.push("/login"),u((0,l.GS)()),u((0,d.AW)())},[o,u]),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:r().container,children:(0,i.jsxs)("div",{className:r().homeContainer,children:[(0,i.jsxs)("div",{className:r().homeContainer_leftBar,children:[(0,i.jsxs)("div",{onClick:()=>o.push("/dashboard"),className:r().sideBarOption,children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,i.jsx)("p",{children:"Scroll"})]}),(0,i.jsxs)("div",{onClick:()=>o.push("/discover"),className:r().sideBarOption,children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,i.jsx)("p",{children:"Discover"})]}),(0,i.jsxs)("div",{onClick:()=>o.push("/my_connections"),className:r().sideBarOption,children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,i.jsx)("p",{children:"My Connections"})]})]}),(0,i.jsx)("div",{className:r().homeContainer_feedContainer,children:n}),(0,i.jsxs)("div",{className:r().homeContainer_extraContainer,children:[(0,i.jsx)("h3",{children:"Top Profiles"}),s.all_profiles_fetched&&Array.isArray(s.all_users)&&s.all_users.map(e=>(0,i.jsx)("div",{className:r().extraContainer_profile,children:(0,i.jsx)("p",{children:e.userId.name})},e._id))]})]})})})}},2117:function(e,n,s){"use strict";s.d(n,{Z:function(){return d}});var i=s(5893);s(7294);var t=s(7524),o=s.n(t),r=s(1163),c=s(5007),l=s(1987);function a(){let e=(0,r.useRouter)(),n=(0,c.I0)(),s=(0,c.v9)(e=>e.auth);return(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:o().container,children:(0,i.jsxs)("nav",{className:o().navBar,children:[(0,i.jsx)("img",{className:o().mainLogo,onClick:()=>{e.push("/")},src:"images/mainlogo.png",alt:"main_logo"}),(0,i.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>{e.push("/")},children:"FastConnect"}),(0,i.jsxs)("div",{className:o().navBarOptionsContainer,children:[s.profileFetched&&(0,i.jsx)("div",{children:(0,i.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,i.jsxs)("p",{children:["Hey, ",s.user.name]}),(0,i.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,i.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),n((0,l.mc)()),e.push("/login")},style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!s.profileFetched&&(0,i.jsx)("div",{onClick:()=>{e.push("/login")},className:o().joinButton,children:(0,i.jsx)("p",{children:"Register"})})]})]})})})}function d(e){let{children:n}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(a,{}),n]})}},9274:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return _}});var i=s(5893),t=s(5716),o=s(2117),r=s(7294),c=s(5326),l=s.n(c),a=s(5007),d=s(9846),u=s(3422),h=s(1163);function _(){let e=(0,a.I0)(),n=(0,h.useRouter)(),s=(0,a.v9)(e=>e.auth);return(0,r.useEffect)(()=>{e((0,d.Dk)({token:localStorage.getItem("token")}))},[e]),(0,r.useEffect)(()=>{Array.isArray(s.connectionRequest)&&0!==s.connectionRequest.length&&console.log(s.connectionRequest)},[s.connectionRequest]),(0,i.jsx)(o.Z,{children:(0,i.jsx)(t.Z,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:l().section,children:[(0,i.jsx)("h4",{children:"Connection Requests"}),Array.isArray(s.connectionRequest)&&0===s.connectionRequest.length&&(0,i.jsx)("h1",{children:"No connections requests pending."}),Array.isArray(s.connectionRequest)&&0!==s.connectionRequest.length&&s.connectionRequest.filter(e=>null===e.status_accepted).map((s,t)=>(0,i.jsxs)("div",{onClick:()=>n.push("/view_profile/".concat(s.userId.username)),className:l().userCard,children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("div",{className:l().profilePicture,children:(0,i.jsx)("img",{src:"".concat(u._,"/").concat(s.userId.profilePicture),alt:""})}),(0,i.jsxs)("div",{className:l().userInfo,children:[(0,i.jsx)("h3",{children:s.userId.name}),(0,i.jsxs)("p",{children:["@",s.userId.username]})]})]}),(0,i.jsx)("button",{onClick:n=>{n.stopPropagation(),e((0,d.rQ)({connectionId:s._id,token:localStorage.getItem("token"),action:"accept"}))},className:l().connectedButton,children:"Accept"})]},t))]}),(0,i.jsxs)("div",{className:l().section,style:{marginTop:"2rem"},children:[" ",(0,i.jsx)("h4",{children:"My Connections"}),Array.isArray(s.connectionRequest)&&0!==s.connectionRequest.length&&s.connectionRequest.filter(e=>null!==e.status_accepted).map((e,s)=>(0,i.jsx)("div",{onClick:()=>n.push("/view_profile/".concat(e.userId.username)),className:l().userCard,children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("div",{className:l().profilePicture,children:(0,i.jsx)("img",{src:"".concat(u._,"/").concat(e.userId.profilePicture),alt:""})}),(0,i.jsxs)("div",{className:l().userInfo,children:[(0,i.jsx)("h3",{children:e.userId.name}),(0,i.jsxs)("p",{children:["@",e.userId.username]})]})]})},s))]})]})})})}},7524:function(e){e.exports={container:"styles_container__zTAGv",navBar:"styles_navBar__6W1SC",mainLogo:"styles_mainLogo__fh9Nn",navBarOptionsContainer:"styles_navBarOptionsContainer__PozZ2",joinButton:"styles_joinButton__vbd4V"}},6605:function(e){e.exports={homeContainer:"style_homeContainer__q0dh_",homeContainer_leftBar:"style_homeContainer_leftBar__1Zu1D",homeContainer_feedContainer:"style_homeContainer_feedContainer__P_CH_",homeContainer_extraContainer:"style_homeContainer_extraContainer__R595T",sideBarOption:"style_sideBarOption___Cm1r"}},5326:function(e){e.exports={userCard:"style_userCard__dhRk2",profilePicture:"style_profilePicture__XLmoh",myConnections:"style_myConnections__fjsuh",connectedButton:"style_connectedButton__ErLhC"}},1163:function(e,n,s){e.exports=s(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=643)}),_N_E=e.O()}]);