(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{8310:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(6175)}])},5716:function(e,n,s){"use strict";s.d(n,{Z:function(){return m}});var o=s(5893),t=s(7294),i=s(6605),r=s.n(i),l=s(1163),a=s(1987),c=s(5007),d=s(9846);function m(e){let{children:n}=e,s=(0,c.v9)(e=>e.auth),i=(0,l.useRouter)(),m=(0,c.I0)();return(0,t.useEffect)(()=>{let e=localStorage.getItem("token");console.log("Checking token in Dashboard:",e),e||i.push("/login"),m((0,a.GS)()),m((0,d.AW)())},[i,m]),(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:r().container,children:(0,o.jsxs)("div",{className:r().homeContainer,children:[(0,o.jsxs)("div",{className:r().homeContainer_leftBar,children:[(0,o.jsxs)("div",{onClick:()=>i.push("/dashboard"),className:r().sideBarOption,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,o.jsx)("p",{children:"Scroll"})]}),(0,o.jsxs)("div",{onClick:()=>i.push("/discover"),className:r().sideBarOption,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,o.jsx)("p",{children:"Discover"})]}),(0,o.jsxs)("div",{onClick:()=>i.push("/my_connections"),className:r().sideBarOption,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,o.jsx)("p",{children:"My Connections"})]})]}),(0,o.jsx)("div",{className:r().homeContainer_feedContainer,children:n}),(0,o.jsxs)("div",{className:r().homeContainer_extraContainer,children:[(0,o.jsx)("h3",{children:"Top Profiles"}),s.all_profiles_fetched&&Array.isArray(s.all_users)&&s.all_users.map(e=>(0,o.jsx)("div",{className:r().extraContainer_profile,children:(0,o.jsx)("p",{children:e.userId.name})},e._id))]})]})})})}},2117:function(e,n,s){"use strict";s.d(n,{Z:function(){return d}});var o=s(5893);s(7294);var t=s(7524),i=s.n(t),r=s(1163),l=s(5007),a=s(1987);function c(){let e=(0,r.useRouter)(),n=(0,l.I0)(),s=(0,l.v9)(e=>e.auth);return(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:i().container,children:(0,o.jsxs)("nav",{className:i().navBar,children:[(0,o.jsx)("img",{className:i().mainLogo,onClick:()=>{e.push("/")},src:"images/mainlogo.png",alt:"main_logo"}),(0,o.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>{e.push("/")},children:"FastConnect"}),(0,o.jsxs)("div",{className:i().navBarOptionsContainer,children:[s.profileFetched&&(0,o.jsx)("div",{children:(0,o.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,o.jsxs)("p",{children:["Hey, ",s.user.name]}),(0,o.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,o.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),n((0,a.mc)()),e.push("/login")},style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!s.profileFetched&&(0,o.jsx)("div",{onClick:()=>{e.push("/login")},className:i().joinButton,children:(0,o.jsx)("p",{children:"Register"})})]})]})})})}function d(e){let{children:n}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)(c,{}),n]})}},6175:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return u}});var o=s(5893),t=s(9846),i=s(570),r=s(5716),l=s(2117),a=s(1163),c=s(7294),d=s(5007),m=s(3832),h=s.n(m),p=s(3422),_=s(5652);function u(){(0,a.useRouter)();let e=(0,d.I0)(),n=(0,d.v9)(e=>e.auth),s=(0,d.v9)(e=>e.postReducer),[m,u]=(0,c.useState)(""),[x,C]=(0,c.useState)(),[j,g]=(0,c.useState)(""),v=async()=>{await e((0,i.qb)({file:x,body:m})),u(""),C(null),e((0,i.Bd)())};return((0,c.useEffect)(()=>{n.isTokenThere&&(e((0,i.Bd)()),e((0,t.$2)({token:localStorage.getItem("token")}))),n.all_profiles_fetched||e((0,t.AW)())},[n.isTokenThere]),n.user)?(0,o.jsx)(l.Z,{children:(0,o.jsxs)(r.Z,{children:[(0,o.jsx)("div",{className:h().wrapper,children:(0,o.jsxs)("div",{className:h().scrollComponent,children:[(0,o.jsxs)("div",{className:h().createPostContainer,children:[(0,o.jsx)("img",{className:h().userProfile,src:"".concat(p._,"/").concat(n.user.profilePicture),alt:""}),(0,o.jsx)("textarea",{onChange:e=>u(e.target.value),value:m,className:h().textAreaOfContent,name:"",id:"",placeholder:"what's on your mind?"}),(0,o.jsx)("label",{htmlFor:"fileUpload",children:(0,o.jsx)("div",{className:h().Fab,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})}),(0,o.jsx)("input",{onChange:e=>C(e.target.files[0]),type:"file",hidden:!0,id:"fileUpload"}),m.length>0&&(0,o.jsx)("div",{onClick:v,className:h().uploadButton,children:"Post"})]}),(0,o.jsx)("div",{className:h().postsContainer,children:s.posts.map(s=>(0,o.jsxs)("div",{className:h().singleCard,children:[(0,o.jsxs)("div",{className:h().singleCard_profileContainer,children:[(0,o.jsx)("img",{className:h().userProfile,src:"".concat(p._,"/").concat(n.user.profilePicture),alt:""}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,o.jsx)("p",{style:{fontWeight:"bold"},children:s.userId.name}),s.userId._id===n.user._id&&(0,o.jsx)("div",{onClick:async()=>{console.log("delete button clicked"),e((0,i.fR)(s._id)),e((0,i.Bd)())},children:(0,o.jsx)("svg",{style:{height:"1.4em",color:"red",cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})]}),(0,o.jsxs)("p",{style:{color:"grey",fontStyle:"italic"},children:["@",s.userId.username]}),(0,o.jsx)("p",{style:{paddingTop:"1.2rem"},children:s.body})]})]}),(0,o.jsx)("div",{className:h().singleCard_image,children:""!==s.media?(0,o.jsx)("img",{src:"".concat(p._,"/").concat(s.media),alt:""}):(0,o.jsx)(o.Fragment,{})}),(0,o.jsxs)("div",{className:h().optionsContainer,children:[(0,o.jsxs)("div",{onClick:async()=>{await e((0,i.R6)(s._id)),e((0,i.Bd)())},className:h().singleOption_optionsContainer,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"})}),(0,o.jsx)("p",{children:s.likes})]}),(0,o.jsxs)("div",{onClick:()=>{e((0,i.h_)(s._id))},className:h().singleOption_optionsContainer,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})}),(0,o.jsx)("p",{children:s.comments})]}),(0,o.jsxs)("div",{onClick:()=>{let e=encodeURIComponent(s.body),n=encodeURIComponent("google.com"),o="https://twitter.com/intent/tweet?text=".concat(e,"&url=").concat(n);window.open(o,"_blank")},className:h().singleOption_optionsContainer,children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})}),(0,o.jsx)("p",{})]})]})]},s._id))})]})}),""!==s.postId&&(0,o.jsx)("div",{onClick:()=>e((0,_.K)()),className:h().commentsContainer,children:(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),className:h().allCommentsContainer,children:[Array.isArray(s.comments)&&0===s.comments.length&&(0,o.jsx)("h4",{children:"No comments yet on this Post"}),Array.isArray(s.comments)&&0!==s.comments.length&&(0,o.jsx)("div",{children:s.comments.map((e,n)=>(0,o.jsxs)("div",{className:h().singleComment,children:[(0,o.jsxs)("div",{className:h().singleComment_profileContainer,children:[(0,o.jsx)("img",{src:"".concat(p._,"/").concat(e.userId.profilePicture),alt:""}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:"bold",fontSize:"1.2rem"},children:e.userId.name}),(0,o.jsxs)("p",{children:["@",e.userId.username]})]})]}),(0,o.jsx)("p",{children:e.body},n)]},e._id))}),(0,o.jsxs)("div",{className:h().postCommentContainer,children:[(0,o.jsx)("input",{type:"text",value:j,onChange:e=>g(e.target.value),placeholder:"Add your Comment"}),(0,o.jsx)("div",{onClick:async()=>{console.log("comment btn clicked"),await e((0,i.w)({post_id:s.postId,body:j})),console.log("Dispatching getAllComments for postId:",s.postId),await e((0,i.h_)(s.postId)),g("")},className:h().postCommentContainer_commentBtn,children:(0,o.jsx)("p",{children:"Comment"})})]})]})})]})}):(0,o.jsx)(l.Z,{children:(0,o.jsx)(r.Z,{children:(0,o.jsx)("h2",{children:"Loading..."})})})}},7524:function(e){e.exports={container:"styles_container__zTAGv",navBar:"styles_navBar__6W1SC",mainLogo:"styles_mainLogo__fh9Nn",navBarOptionsContainer:"styles_navBarOptionsContainer__PozZ2",joinButton:"styles_joinButton__vbd4V"}},6605:function(e){e.exports={homeContainer:"style_homeContainer__q0dh_",homeContainer_leftBar:"style_homeContainer_leftBar__1Zu1D",homeContainer_feedContainer:"style_homeContainer_feedContainer__P_CH_",homeContainer_extraContainer:"style_homeContainer_extraContainer__R595T",sideBarOption:"style_sideBarOption___Cm1r"}},3832:function(e){e.exports={scrollComponent:"style_scrollComponent__qk50p",createPostContainer:"style_createPostContainer__Rhd2_",userProfile:"style_userProfile__i6ePs",Fab:"style_Fab__b4dgC",textAreaOfContent:"style_textAreaOfContent__ysQeT",uploadButton:"style_uploadButton__nDGnZ",postsContainer:"style_postsContainer__FL_Z4",singleCard:"style_singleCard__GYiCo",singleCard_profileContainer:"style_singleCard_profileContainer__1FD23",singleCard_image:"style_singleCard_image__Z5lOo",optionsContainer:"style_optionsContainer__MW2rI",singleOption_optionsContainer:"style_singleOption_optionsContainer__Bh3mz",commentsContainer:"style_commentsContainer__AUbST",allCommentsContainer:"style_allCommentsContainer__Dxds4",postCommentContainer:"style_postCommentContainer__ZqTEW",postCommentContainer_commentBtn:"style_postCommentContainer_commentBtn__2a3tv"}},1163:function(e,n,s){e.exports=s(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8310)}),_N_E=e.O()}]);