(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{3235:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(9360)}])},5716:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var s=t(5893),r=t(7294),o=t(6605),i=t.n(o),a=t(1163),l=t(1987),c=t(5007),d=t(9846);function u(e){let{children:n}=e,t=(0,c.v9)(e=>e.auth),o=(0,a.useRouter)(),u=(0,c.I0)();return(0,r.useEffect)(()=>{let e=localStorage.getItem("token");console.log("Checking token in Dashboard:",e),e||o.push("/login"),u((0,l.GS)()),u((0,d.AW)())},[o,u]),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:i().container,children:(0,s.jsxs)("div",{className:i().homeContainer,children:[(0,s.jsxs)("div",{className:i().homeContainer_leftBar,children:[(0,s.jsxs)("div",{onClick:()=>o.push("/dashboard"),className:i().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,s.jsx)("p",{children:"Scroll"})]}),(0,s.jsxs)("div",{onClick:()=>o.push("/discover"),className:i().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,s.jsx)("p",{children:"Discover"})]}),(0,s.jsxs)("div",{onClick:()=>o.push("/my_connections"),className:i().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,s.jsx)("p",{children:"My Connections"})]})]}),(0,s.jsx)("div",{className:i().homeContainer_feedContainer,children:n}),(0,s.jsxs)("div",{className:i().homeContainer_extraContainer,children:[(0,s.jsx)("h3",{children:"Top Profiles"}),t.all_profiles_fetched&&Array.isArray(t.all_users)&&t.all_users.map(e=>(0,s.jsx)("div",{className:i().extraContainer_profile,children:(0,s.jsx)("p",{children:e.userId.name})},e._id))]})]})})})}},2117:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var s=t(5893);t(7294);var r=t(7524),o=t.n(r),i=t(1163),a=t(5007),l=t(1987);function c(){let e=(0,i.useRouter)(),n=(0,a.I0)(),t=(0,a.v9)(e=>e.auth);return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:o().container,children:(0,s.jsxs)("nav",{className:o().navBar,children:[(0,s.jsx)("img",{className:o().mainLogo,onClick:()=>{e.push("/")},src:"images/mainlogo.png",alt:"main_logo"}),(0,s.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>{e.push("/")},children:"FastConnect"}),(0,s.jsxs)("div",{className:o().navBarOptionsContainer,children:[t.profileFetched&&(0,s.jsx)("div",{children:(0,s.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,s.jsxs)("p",{children:["Hey, ",t.user.name]}),(0,s.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,s.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),n((0,l.mc)()),e.push("/login")},style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!t.profileFetched&&(0,s.jsx)("div",{onClick:()=>{e.push("/login")},className:o().joinButton,children:(0,s.jsx)("p",{children:"Register"})})]})]})})})}function d(e){let{children:n}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(c,{}),n]})}},9360:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var s=t(5893),r=t(5716),o=t(2117),i=t(7294),a=t(8356),l=t.n(a),c=t(5007),d=t(9846),u=t(3422),p=t(570);function h(){let e=(0,c.v9)(e=>e.auth),n=(0,c.v9)(e=>e.postReducer),[t,a]=(0,i.useState)({}),[h,_]=(0,i.useState)([]),[m,x]=(0,i.useState)(!1),[j,C]=(0,i.useState)({company:"",position:"",years:""}),f=e=>{let{name:n,value:t}=e.target;C({...j,[n]:t})},y=(0,c.I0)();(0,i.useEffect)(()=>{(async()=>{console.log("Dispatching getAboutUser"),console.log("getAboutUser result:",await y((0,d.$2)({token:localStorage.getItem("token")}))),await y((0,p.Bd)())})()},[y]),(0,i.useEffect)(()=>{console.log("Auth State:",e),e.user&&(a(e.user),_(n.posts.filter(n=>n.userId.username===e.user.userId.username)))},[e.user,n.posts]),console.log("User Profile:",t),console.log("Auth State status after useEffect :",e);let v=async()=>{await u.f.post("/user_update",{token:localStorage.getItem("token"),name:t.userId.name}),await u.f.post("/update_profile_data",{token:localStorage.getItem("token"),bio:t.bio,currentPost:t.currentPost,pastWork:t.pastWork,education:t.education}),await y((0,d.$2)({token:localStorage.getItem("token")}))};return(0,s.jsx)(o.Z,{children:(0,s.jsxs)(r.Z,{children:[e.user&&t&&t.userId&&t.userId.profilePicture&&(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("div",{className:l().backDropContainer,children:(0,s.jsx)("img",{className:l().backdrop,src:"".concat(u._,"/").concat(t.userId.profilePicture),alt:"backdrop"})}),(0,s.jsx)("div",{className:l().profileContainer_details,children:(0,s.jsxs)("div",{style:{display:"flex",gap:"0.7rem"},children:[(0,s.jsxs)("div",{style:{flex:"0.8"},children:[(0,s.jsxs)("div",{style:{display:"flex",width:"fit-content",alignItems:"center",gap:"1.2rem"},children:[(0,s.jsx)("input",{type:"text",className:l().nameEdit,value:t.userId.name,onChange:e=>{a({...t,userId:{...t.userId,name:e.target.value}})}}),(0,s.jsxs)("p",{style:{color:"grey"},children:["@",t.userId.username]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{children:(0,s.jsx)("textarea",{value:t.bio,onChange:e=>{a({...t,bio:e.target.value})},rows:3,cols:40,style:{maxWidth:"100%"}})})})]}),(0,s.jsxs)("div",{style:{flex:"0.2"},children:[(0,s.jsx)("h3",{children:"Recent Activity :"}),h.map(e=>(0,s.jsxs)("div",{className:l().postCard,children:[(0,s.jsx)("div",{className:l().card_profileContainer,children:""!==e.media?(0,s.jsx)("img",{src:"".concat(u._,"/").concat(e.media),alt:"post media"}):(0,s.jsx)("div",{style:{width:"3.4rem",height:"3.4rem"}})}),(0,s.jsx)("div",{className:l().card_description,children:(0,s.jsx)("p",{children:e.body||"POST TITLE"})})]},e._id))]})]})}),(0,s.jsxs)("div",{className:l().workHistory,children:[(0,s.jsx)("h4",{children:"Work History"}),(0,s.jsxs)("div",{className:l().workHistoryContainer,children:[Array.isArray(t.pastWork)&&t.pastWork.map((e,n)=>(0,s.jsxs)("div",{className:l().workHistoryCard,children:[(0,s.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.company," - ",e.position]}),(0,s.jsx)("p",{children:"Work History"})]},n)),(0,s.jsx)("button",{className:l().addWorkButton,onClick:()=>{x(!0)},children:"Add Work"})]})]}),t!==e.user.userId&&(0,s.jsx)("div",{onClick:()=>{v()},className:l().updateProfileBtn,children:"Update Profile"})]}),m&&(0,s.jsx)("div",{onClick:()=>x(!1),className:l().commentsContainer,children:(0,s.jsxs)("div",{onClick:e=>e.stopPropagation(),className:l().allCommentsContainer,children:[(0,s.jsx)("input",{onChange:f,name:"company",className:l().inputField,type:"text",placeholder:"Enter Company name",required:!0}),(0,s.jsx)("input",{onChange:f,name:"position",className:l().inputField,type:"text",placeholder:"Enter Positon",required:!0}),(0,s.jsx)("input",{onChange:f,name:"years",className:l().inputField,type:"number",placeholder:"Enter Years",required:!0}),(0,s.jsx)("button",{onClick:()=>{a({...t,pastWork:[...t.pastWork,j]}),x(!1)},className:l().updateProfileBtn,children:"ADD"})]})})]})})}},7524:function(e){e.exports={container:"styles_container__zTAGv",navBar:"styles_navBar__6W1SC",mainLogo:"styles_mainLogo__fh9Nn",navBarOptionsContainer:"styles_navBarOptionsContainer__PozZ2",joinButton:"styles_joinButton__vbd4V"}},6605:function(e){e.exports={homeContainer:"style_homeContainer__q0dh_",homeContainer_leftBar:"style_homeContainer_leftBar__1Zu1D",homeContainer_feedContainer:"style_homeContainer_feedContainer__P_CH_",homeContainer_extraContainer:"style_homeContainer_extraContainer__R595T",sideBarOption:"style_sideBarOption___Cm1r"}},8356:function(e){e.exports={container:"style_container__oM6v_",backDropContainer:"style_backDropContainer__es5hQ",backdrop:"style_backdrop__B0uIa",profileContainer_details:"style_profileContainer_details__847UU",postCard:"style_postCard__CejEM",card_profileContainer:"style_card_profileContainer___6ywb",card_description:"style_card_description__ljFVy",connectBtn:"style_connectBtn__W0QSy",connectedButton:"style_connectedButton__3TT6i",workHistoryContainer:"style_workHistoryContainer__up3SC",workHistoryCard:"style_workHistoryCard__4jDjb",nameEdit:"style_nameEdit__pBOD8",updateProfileBtn:"style_updateProfileBtn__CZXRp",addWorkButton:"style_addWorkButton__LG24f",commentsContainer:"style_commentsContainer__prpm4",allCommentsContainer:"style_allCommentsContainer__OUsZm",inputField:"style_inputField__YKcXS"}},1163:function(e,n,t){e.exports=t(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3235)}),_N_E=e.O()}]);