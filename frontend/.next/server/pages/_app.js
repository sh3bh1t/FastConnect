(()=>{var e={};e.id=888,e.ids=[888],e.modules={9846:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{$2:()=>d,AW:()=>i,Dk:()=>h,I$:()=>p,Zk:()=>u,a$:()=>l,pH:()=>c,rQ:()=>g});var r=a(5306),n=a(3258),o=e([r,n]);[r,n]=o.then?(await o)():o;let c=(0,n.createAsyncThunk)("user/login",async(e,t)=>{try{let a=await r.f.post("/login",{email:e.email,password:e.password});if(a.data.token)return localStorage.setItem("token",a.data.token),a.data.token;return t.rejectWithValue({message:"token not provided"})}catch(e){return t.rejectWithValue(e.response.data)}}),l=(0,n.createAsyncThunk)("user/register",async(e,t)=>{try{return(await r.f.post("/register",{email:e.email,password:e.password,name:e.name,username:e.username})).data}catch(e){return t.rejectWithValue(e.response.data)}}),d=(0,n.createAsyncThunk)("user/getAboutUser",async(e,t)=>{try{let t=await r.f.get("/get_user_and_profile",{params:{token:e.token}});return console.log("API Response:",t.data),t.data}catch(e){return t.rejectWithValue(e.response.data)}}),i=(0,n.createAsyncThunk)("user/getAllUsers",async(e,t)=>{try{let e=await r.f.get("/user/get_all_users");return t.fulfillWithValue(e.data)}catch(e){return t.rejectWithValue(e.response.data)}}),u=(0,n.createAsyncThunk)("user/sendConnectionRequest",async(e,t)=>{try{let a=await r.f.post("/user/send_connection_request",{token:e.token,connectionId:e.user_id});return t.dispatch(p({token:e.token})),t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data)}}),p=(0,n.createAsyncThunk)("user/getConnectionsRequest",async(e,t)=>{try{let a=await r.f.get("/user/get_connection_request",{params:{token:e.token}});return t.fulfillWithValue(a.data.connections)}catch(e){return t.rejectWithValue(e.response.data)}}),h=(0,n.createAsyncThunk)("user/getMyConnectionsRequest",async(e,t)=>{try{let a=await r.f.get("/user/user_connection_request",{params:{token:e.token}});return t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data)}}),g=(0,n.createAsyncThunk)("user/acceptConnections",async(e,t)=>{try{let a=await r.f.post("/user/accept_connection_request",{token:e.token,requestId:e.connectionId,action_type:e.action});return t.dispatch(p({token:e.token})),t.dispatch(h({token:e.token})),t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data)}});s()}catch(e){s(e)}})},570:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Bd:()=>c,R6:()=>i,fR:()=>d,h_:()=>u,qb:()=>l,w:()=>p});var r=a(5306),n=a(3258),o=e([r,n]);[r,n]=o.then?(await o)():o;let c=(0,n.createAsyncThunk)("posts/getAllPosts",async(e,t)=>{try{let e=await r.f.get("/posts");return t.fulfillWithValue(e.data)}catch(e){return t.rejectWithValue(e.response.data)}}),l=(0,n.createAsyncThunk)("post/createPost",async(e,t)=>{let{file:a,body:s}=e;try{let e=new FormData;e.append("token",localStorage.getItem("token")),e.append("body",s),e.append("media",a);let n=await r.f.post("/post",e,{headers:{"Content-Type":"multipart/form-data"}});if(200===n.status)return t.fulfillWithValue("post uploaded");return t.fulfillWithValue("post not uploaded")}catch(e){return t.rejectWithValue(e.response.data)}}),d=(0,n.createAsyncThunk)("post/deletePost",async(e,t)=>{try{let a=await r.f.delete("/delete_post",{data:{token:localStorage.getItem("token"),postId:e}});return t.dispatch(c()),t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue("something went wrong")}}),i=(0,n.createAsyncThunk)("post/incrementPostLike",async(e,t)=>{try{let a=await r.f.post("/increment_post_likes",{post_Id:e});return t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data)}}),u=(0,n.createAsyncThunk)("post/getComments",async(e,t)=>{try{let a=await r.f.get("/get_comments",{params:{postId:e}});return console.log("Fetched Comments:",a.data),t.fulfillWithValue({comments:a.data,postId:e})}catch(e){return t.rejectWithValue(e.response.data)}}),p=(0,n.createAsyncThunk)("post/postComment",async(e,t)=>{try{console.log({post_id:e.post_id,body:e.body});let a=await r.f.post("/comment",{token:localStorage.getItem("token"),post_id:e.post_id,commentBody:e.body});return console.log("Comment posted successfully: ",a.data),t.fulfillWithValue(a.data)}catch(e){return console.error("Error posting comment: ",e),t.rejectWithValue(e.response.data)}});s()}catch(e){s(e)}})},5306:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{_:()=>o,f:()=>c});var r=a(9648),n=e([r]);r=(n.then?(await n)():n)[0];let o="https://fastconnectbackend.onrender.com/",c=r.default.create({baseURL:o});s()}catch(e){s(e)}})},1987:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{ZP:()=>h,mc:()=>d});var r=a(3258),n=a(9846),o=e([r,n]);[r,n]=o.then?(await o)():o;let c={user:null,all_users:[],all_profiles_fetched:!1,isError:!1,isSuccess:!1,isLoading:!1,loggedIn:!1,message:"",isTokenThere:!1,profileFetched:!1,connections:[],connectionRequest:[],email:""},l=(0,r.createSlice)({name:"auth",initialState:c,reducers:{reset:()=>c,handleLoginUser:e=>{e.message="hello"},emptyMessage:e=>{e.message=""},setTokenIsThere:e=>{e.isTokenThere=!0},setTokenIsNotThere:e=>{e.isTokenThere=!1}},extraReducers:e=>{e.addCase(n.pH.pending,e=>{e.isLoading=!0}).addCase(n.pH.fulfilled,(e,t)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.loggedIn=!0,e.message="Login Successful"}).addCase(n.pH.rejected,(e,t)=>{e.isLoading=!1,e.isError=!0,e.message=t.payload}).addCase(n.a$.pending,e=>{e.isLoading=!0}).addCase(n.a$.fulfilled,(e,t)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.loggedIn=!0,e.message="Registration Successful"}).addCase(n.a$.rejected,(e,t)=>{e.isLoading=!1,e.isError=!0,e.message=t.payload}).addCase(n.$2.fulfilled,(e,t)=>{console.log("getAboutUser fulfilled with payload:",t.payload),e.isLoading=!1,e.isError=!1,e.profileFetched=!0,e.user=t.payload,console.log("Updated state:",e)}).addCase(n.AW.fulfilled,(e,t)=>{console.log("Fetched profiles:",t.payload),e.isLoading=!1,e.isError=!1,e.all_profiles_fetched=!0,e.all_users=t.payload}).addCase(n.I$.fulfilled,(e,t)=>{e.connections=t.payload}).addCase(n.I$.rejected,(e,t)=>{e.message=t.payload}).addCase(n.Dk.fulfilled,(e,t)=>{e.connectionRequest=t.payload}).addCase(n.Dk.rejected,(e,t)=>{e.message=t.payload})}}),{reset:d,emptyMessage:i,setTokenIsThere:u,setTokenIsNotThere:p}=l.actions,h=l.reducer;s()}catch(e){s(e)}})},5652:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{K:()=>d,Z:()=>i});var r=a(3258),n=a(570),o=e([r,n]);[r,n]=o.then?(await o)():o;let c={posts:[],isError:!1,postFetched:!1,isLoading:!1,loggedIn:!1,message:"",comments:[],postId:""},l=(0,r.createSlice)({name:"post",initialState:c,reducers:{reset:()=>c,resetPostId:e=>{e.postId=""}},extraReducers:e=>{e.addCase(n.Bd.pending,e=>{e.isLoading=!0,e.message="fectching all posts"}).addCase(n.Bd.fulfilled,(e,t)=>{e.isLoading=!1,e.isError=!1,e.postFetched=!0,e.posts=t.payload.posts.reverse()}).addCase(n.Bd.rejected,(e,t)=>{e.isLoading=!1,e.isError=!0,e.message=t.payload}).addCase(n.h_.fulfilled,(e,t)=>{e.postId=t.payload.postId,e.comments=t.payload.comments})}}),{resetPostId:d}=l.actions,i=l.reducer;s()}catch(e){s(e)}})},3146:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{h:()=>l});var r=a(3258),n=a(1987),o=a(5652),c=e([r,n,o]);[r,n,o]=c.then?(await c)():c;let l=(0,r.configureStore)({reducer:{auth:n.ZP,postReducer:o.Z}});s()}catch(e){s(e)}})},5148:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>l});var r=a(997),n=a(3146);a(108);var o=a(3291),c=e([n,o]);function l({Component:e,pageProps:t}){return r.jsx(o.Provider,{store:n.h,children:r.jsx(e,{...t})})}[n,o]=c.then?(await c)():c,s()}catch(e){s(e)}})},108:()=>{},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},3258:e=>{"use strict";e.exports=import("@reduxjs/toolkit")},9648:e=>{"use strict";e.exports=import("axios")},3291:e=>{"use strict";e.exports=import("react-redux")}};var t=require("../webpack-runtime.js");t.C(e);var a=t(t.s=5148);module.exports=a})();